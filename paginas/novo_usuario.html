<!DOCTYPE html>
<html lang="pt">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Novo Usuário</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<link rel="stylesheet" href="custom.css">
  
  <style>
    .Cabecalho {
    color: white;
    margin-left: 23px;
}

.mb-2 {
    margin-bottom: 2rem;
    margin-right: 10rem;
    width: 40%;
}

.form-label{
  color: aliceblue;
}

.error{
  color: red;
}
.bi{
  color:aliceblue
}
#btn-toggle-senha,
#btn-toggle-confirmar-senha {
  box-shadow: 0 0 0 0.2rem rgba(0, 118, 245, 0.959);
}

  </style>

</head>
<body>
    <header><div><h2 class="Cabecalho">CADASTRO DE NOVO USUÁRIO</h2></div></header>
    <div class="container-fluid">
      <form id="form-cadastro" action="validacao.php">
          <div class="mb-2">
              <label for="usuario" class="form-label">Usuário</label>
              <input type="text" class="form-control" placeholder="Informe nome do usuário" maxlength="30" required>
          </div>
          <div class="mb-2">
              <label for="senha" class="form-label">Senha</label>
              <div class="input-group">
                  <input type="password" class="form-control" id="senha" placeholder="Digite uma senha" maxlength="45" required>
                  <button class="btn btn-outline-secondary" type="button" id="btn-toggle-senha">
                    <i class="bi bi-eye"></i>
                </button>
              </div>
          </div>
          <div class="mb-2">
              <label for="confirmar_senha" class="form-label">Confirmar senha</label>
              <div class="input-group">
                  <input type="password" class="form-control" id="confirmar_senha" placeholder="Digite a senha novamente" maxlength="45" required>
                  <button class="btn btn-outline-secondary" type="button" id="btn-toggle-confirmar-senha">
                    <i class="bi bi-eye"></i>
                </button>
                
              </div>
              <div id="erro-senha" class="error"></div>
          </div>
          <div class="mb-2">
              <label for="email" class="form-label">E-mail</label>
              <input type="email" class="form-control" placeholder="Digite um e-mail" maxlength="100" required>
          </div>
          <div class="mb-2">
              <button type="submit" class="btn btn-primary" id="btn-salvar-user">SALVAR</button>
          </div>
      </form>
  </div>
  
  <script>
  function verificarSenhas() {
    var senha = $("#senha").val();
    var confirmarSenha = $("#confirmar_senha").val();
    var erroSenha = $("#erro-senha");

    if (senha !== confirmarSenha) {
        erroSenha.text("As senhas não coincidem.");
    } else {
        erroSenha.text("");
    }
}

// Alternar a visibilidade da senha
function toggleVisibility(inputId, buttonId) {
    var input = $("#" + inputId);
    var button = $("#" + buttonId);

    if (input.attr("type") === "password") {
        input.attr("type", "text");
        button.html('<i class="bi bi-eye-slash"></i>');
    } else {
        input.attr("type", "password");
        button.html('<i class="bi bi-eye"></i>');
    }
}

// Adicionar evento de validação ao formulário
$("#form-cadastro").submit(function (event) {
    verificarSenhas();

    // Verificar se há erro de senha
    if ($("#erro-senha").text() !== "") {
        event.preventDefault(); // Impedir o envio do formulário se as senhas não coincidem
    }
});

// Adicionar evento de clique no botão de visualização da senha
$("#btn-toggle-senha").click(function () {
    toggleVisibility("senha", "btn-toggle-senha");
});

// Adicionar evento de clique no botão de visualização da senha de confirmação
$("#btn-toggle-confirmar-senha").click(function () {
    toggleVisibility("confirmar_senha", "btn-toggle-confirmar-senha");
});
  </script>
  
</body>
</html>